(this["webpackJsonpreact-social-site"]=this["webpackJsonpreact-social-site"]||[]).push([[0],{59:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(25),c=n.n(o),a=(n(59),n(3)),i=n(4),u=n(6),l=n(5),d=n(2),h=n(7),p=n(32),j="UPDATE_POSTS",m="LOGIN_START",f="LOGIN_SUCCESS",b="LOGIN_FAILED",v="SIGNUP_START",O="SIGNUP_SUCCESS",g="SIGNUP_FAILED",x="AUTHENTICATE_USER",N="LOG_OUT",S="CLEAR_AUTH_STATE",k="EDIT_PROFILE_SUCCESS",y="EDIT_PROFILE_FAILED",E="USER_PROFILE_SUCCESS",C="USER_PROFILE_FAILED",_="USER_PROFILE_BEGIN",I="CLEAR_PROFILE_STATE",T="FETCH_USER_FRIENDS_SUCCESS",F="FETCH_USER_FRIENDS_FAILED",P="FETCH_USER_FRIENDS_BEGIN",w="ADD_FRIEND_FAILED",L="ADD_FRIEND_SUCESS",U="ADD_FRIEND_BEGIN",R="REMOVE_FRIEND_FAILED",A="REMOVE_FRIEND_SUCESS",D="REMOVE_FRIEND_BEGIN",B="CLEAR_FRIEND_STATE",z="ADD_POST_SUCCESS",G="ADD_POST_FAILED",M="ADD_COMMENT_SUCCESS",V="ADD_COMMENT_FAILED",H="TOGGLE_LIKE_SUCCESS",W="TOGGLE_LIKE_FAILED",J="FETCH_SEARCH_USERS",q="CLEAR_SEARCH",K="FETCH_CONVERSATION_SUCCESS",X="FETCH_CONVERSATION_START",Y="FETCH_CONVERSATION_FAILED",Q="CLEAR_CONVERSATION",Z="ADD_MESSAGE",$="ADD_SOCKET",ee="DISCONNECT_SOCKET",te={posts:[],next:null,prev:null,error:null};var ne="http://localhost:4000/api",re={fetchposts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return ne+"/posts?page=".concat(e,"&limit=").concat(t)},login:function(){return ne+"/users/login"},signup:function(){return ne+"/users/signup"},editProfile:function(){return ne+"/users/edit"},fetchProfile:function(e){return ne+"/users/".concat(e)},fetchFriends:function(){return ne+"/friendship/fetch_user_friends"},AddFriend:function(e){return ne+"/friendship/create_friendship?user_id=".concat(e)},RemoveFriend:function(e){return ne+"/friendship/remove_friendship?user_id=".concat(e)},createPost:function(){return ne+"/posts/create"},createComment:function(){return ne+"/comments"},toggleLike:function(e,t){return ne+"/likes/toggle?id=".concat(e,"&type=").concat(t)},SearchUsers:function(e){return ne+"/users/search?text=".concat(e)},UploadPic:function(){return ne+"/users/editPhoto/"},SERVER_URL:function(){return"http://localhost:4000"},get_conversation:function(e){return ne+"/conversation/".concat(e)}},se=re,oe=se.login();function ce(e,t){return console.log(e),function(n){n({type:m}),fetch(oe,{method:"POST",body:JSON.stringify({email:e.email,password:e.password}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?(localStorage.setItem("token",e.data.token),setTimeout((function(){var r;n((r=e.data.user,{type:f,user:r})),t.emit("make-user-online",e.data.user)}),1e3)):setTimeout((function(){var t;n((t=e.error,{type:b,error:t}))}),1e3)})).catch((function(e){return console.log("error",e)}))}}function ae(){return{type:N}}function ie(){return{type:S}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=se.fetchposts(e);return function(e){fetch(t).then((function(e){return e.json()})).then((function(t){var n=t.next,r=t.prev;"undefined"==typeof n&&(n=null),"undefined"==typeof r&&(r=null),e(le(t.data.posts,n,r))})).catch((function(e){return console.log("error",e)}))}}function le(e,t,n){return{type:j,posts:e,next:t,prev:n}}function de(e){var t=se.createPost();return function(n){var r=localStorage.getItem("token");fetch(t,{method:"POST",body:JSON.stringify({content:e}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(r)}}).then((function(e){return"401"==e.status&&n(ae()),e.json()})).then((function(e){e.success?setTimeout((function(){var t;n((t=e.data.post,{type:z,post:t}))}),500):setTimeout((function(){var t;n((t=e.error,{type:G,error:t}))}),500)})).catch((function(e){return console.log("error",e)}))}}var he=n(41),pe=n(8),je=n(11);function me(e,t){var n=se.createComment();return function(r){var s=localStorage.getItem("token");fetch(n,{method:"POST",body:JSON.stringify({content:e,post_id:t}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(s)}}).then((function(e){return"401"==e.status&&r(ae()),e.json()})).then((function(e){console.log(e),e.success?setTimeout((function(){r(function(e,t){return{type:M,comment:e,post_id:t}}(e.comment,t))}),500):setTimeout((function(){var t;r((t=e.error,{type:V,error:t}))}),500)})).catch((function(e){return console.log("error",e)}))}}function fe(e,t){var n=se.toggleLike(e,t);return function(r){var s=localStorage.getItem("token");fetch(n,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(s)}}).then((function(e){return e.json()})).then((function(n){console.log(n),n.success?setTimeout((function(){r(function(e,t,n,r){return{type:H,deleted:e,id:t,likeabletype:n,like:r}}(n.data.deleted,e,t,n.data.liketosent))}),50):setTimeout((function(){var e;r((e=n.error,{type:W,error:e}))}),50)})).catch((function(e){return console.log("error",e)}))}}var be=n(0),ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleToggleLike=function(){var t=e.props.comment;e.props.dispatch(fe(t._id,"Comment"))},e.isLikedByUser=function(){var t,n=e.props.comment,r=e.props.auth.user;for(t=0;t<n.likes.length;t++)if(n.likes[t].user==r._id)return!0;return!1},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.isLikedByUser(),t=this.props.comment;return Object(be.jsxs)("div",{className:"comment",children:[Object(be.jsxs)("div",{className:"name-time",children:[t.user.name," a minute ago"]}),Object(be.jsx)("div",{className:"comment-content",children:t.content}),Object(be.jsxs)("div",{className:"comment-likes-count",children:[Object(be.jsx)("img",{onClick:this.handleToggleLike,src:e?"https://cdn-icons-png.flaticon.com/512/633/633991.png":"https://cdn-icons-png.flaticon.com/512/633/633759.png"}),t.likes.length]})]})}}]),n}(r.Component);var Oe=Object(h.b)((function(e){return{auth:e.auth,posts:e.posts}}))(ve),ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this)).handleChange=function(e){var t=e.target.value;r.setState({content:t})},r.handleAddcomment=function(e){var t=r.props.post;""!==r.state.content&&"Enter"==e.key&&(r.props.dispatch(me(r.state.content,t._id)),r.setState({content:""}))},r.handleToggleLike=function(){var e=r.props.post;r.props.dispatch(fe(e._id,"Post"))},r.isLikedByUser=function(){var e,t=r.props.post,n=r.props.auth.user;for(e=0;e<t.likes.length;e++)if(t.likes[e].user==n._id)return!0;return!1},r.state={content:""},r}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.post,t=this.isLikedByUser(),n=se.SERVER_URL()+e.user.avatar;return Object(be.jsxs)("div",{className:"Post",children:[Object(be.jsxs)("div",{className:"user-info",children:[Object(be.jsx)(je.b,{to:"/user/".concat(e.user._id),children:Object(be.jsx)("img",{src:e.user.avatar?n:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png",className:"post-icon"})}),Object(be.jsxs)("div",{className:"post-user-name",children:[e.user.name,Object(be.jsx)("div",{className:"time",children:"a minute ago"})]})]}),Object(be.jsx)("p",{className:"post-content",children:e.content}),Object(be.jsxs)("div",{className:"likes-comment-icon",children:[Object(be.jsx)("img",{onClick:this.handleToggleLike,src:t?"https://cdn-icons-png.flaticon.com/512/1076/1076984.png":"https://cdn-icons-png.flaticon.com/512/1077/1077035.png"}),Object(be.jsx)("div",{className:"likes-count",children:e.likes.length}),Object(be.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1380/1380338.png"}),Object(be.jsx)("div",{className:"comments-count",children:e.comment.length})]}),Object(be.jsxs)("div",{className:"comments",children:[Object(be.jsx)("input",{onChange:this.handleChange,onKeyPress:this.handleAddcomment,onk:!0,className:"comments-form",placeholder:"Type your comment here"}),e.comment.map((function(e){return Object(be.jsx)(Oe,{comment:e},e._id)}))]})]})}}]),n}(r.Component);var xe=Object(h.b)((function(e){return{auth:e.auth,posts:e.posts}}))(ge),Ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleChange=function(e){r.setState({post_content:e.target.value})},r.handleSubmit=function(){var e=r.state.post_content;0!=e.length&&r.props.dispatch(de(e))},r.state={post_content:"",post_file:null},r}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.posts.error;return Object(be.jsxs)("div",{className:"post-form-container",children:[0==t&&Object(be.jsx)("div",{className:"success-dialog",children:"Post Created Successfully"}),t&&Object(be.jsx)("div",{className:"alert-dialog",children:t}),Object(be.jsx)("div",{className:"post-input-container",children:Object(be.jsx)("textarea",{onChange:function(t){return e.handleChange(t)},placeholder:"What's in your mind?"})}),Object(be.jsx)("div",{className:"post-btn-container",children:Object(be.jsx)("div",{onClick:this.handleSubmit,className:"post-btn",children:"Add Post"})})]})}}]),n}(r.Component);var Se=Object(h.b)((function(e){return{posts:e.posts}}))(Ne),ke=n(24),ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(ue())}},{key:"render",value:function(){var e=this.props.posts,t=e.posts,n=(e.error,this.props.auth.isLoggedIn);return 0==t.length?Object(be.jsx)(ke.BookLoader,{text:"Fetching Posts...",background:"linear-gradient(135deg, #6066FA, #4645F6)",desktopSize:"50px",mobileSize:"50px",textColor:"#4645F6"}):Object(be.jsxs)("div",{className:"post-list1",children:[n&&Object(be.jsx)(Se,{}),Object(be.jsx)("div",{className:n?"Post-list":"Post-listN",children:t.map((function(e){return Object(be.jsx)(xe,{post:e},e._id)}))})]})}}]),n}(r.Component);var Ee=Object(h.b)((function(e){return{auth:e.auth,posts:e.posts}}))(ye),Ce=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.result,t=se.SERVER_URL()+e.avatar;return Object(be.jsx)(je.b,{to:"/user/".concat(e._id),children:Object(be.jsxs)("div",{className:"result",children:[Object(be.jsx)("img",{src:e.avatar?t:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png"}),Object(be.jsx)("div",{children:e.name})]})})}}]),n}(r.Component),_e=Ce;function Ie(e){var t=se.SearchUsers(e);return function(e){var n=localStorage.getItem("token");fetch(t,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(n)}}).then((function(t){return"401"==t.status&&e(ae()),t.json()})).then((function(t){var n;e((n=t.data.users,{type:J,results:n}))})).catch((function(e){return console.log("error",e)}))}}var Te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target.value;""!==t?r.props.dispatch(Ie(t)):r.props.dispatch({type:q})},r.handleInputFocus=function(){r.setState({focus:!0})},r.handleInputBlur=function(e){var t=document.getElementsByClassName("search");if(0!=t.length){var n=t[0].contains(e.target);console.log(n),n||r.setState({focus:!1})}},r.state={focus:!1},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("click",(function(t){e.handleInputBlur(t)}))}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("click",(function(t){e.handleInputBlur(t)}))}},{key:"render",value:function(){var e=this,t=this.props.search.results,n=this.state.focus;return Object(be.jsxs)("div",{className:"search",onFocus:this.handleInputFocus,children:[Object(be.jsx)("input",{onChange:this.handleChange,placeholder:"Search name"}),0!=t.length&&0!=n&&Object(be.jsx)("div",{className:"search-results",children:t.map((function(t){return Object(be.jsx)(_e,{onFocus:e.handleInputFocus,result:t},t._id)}))})]})}}]),n}(r.Component);var Fe=Object(h.b)((function(e){return{auth:e.auth,search:e.search}}))(Te),Pe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).logOut=function(){localStorage.removeItem("token"),e.props.socket.emit("make-user-offline",e.props.auth.user),e.props.dispatch(ae())},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.isLoggedIn,n=e.user,r=(window.location.href,se.SERVER_URL()+n.avatar);return Object(be.jsxs)("div",{className:"navbar",children:[Object(be.jsxs)("div",{className:"nav-left-container",children:[Object(be.jsx)(je.b,{to:"/",children:Object(be.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/2111/2111421.png",className:"logo"})}),Object(be.jsx)("div",{className:"site-name",children:"Socializer"})]}),Object(be.jsx)("div",{className:"nav-middle-container",children:Object(be.jsx)(Fe,{})}),Object(be.jsxs)("div",{className:"nav-right-container",children:[t&&Object(be.jsxs)("div",{className:"user-nav",children:[Object(be.jsx)(je.b,{to:"/settings",children:Object(be.jsx)("img",{src:n.avatar?r:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png",className:"user-logo"})}),Object(be.jsx)("div",{className:"username-nav",children:n.name})]}),0==t&&Object(be.jsx)(je.b,{className:"nav-btn",to:"/login",children:Object(be.jsx)("div",{children:"LogIn"})}),t&&Object(be.jsx)("button",{onClick:this.logOut,className:"logout-btn",children:"LogOut"}),0==t&&Object(be.jsx)(je.b,{className:"nav-btn",to:"/Register",children:Object(be.jsx)("div",{children:"Register"})})]})]})}}]),n}(r.Component);var we=Object(h.b)((function(e){return{auth:e.auth,socket:e.socket}}))(Pe),Le=n(14);function Ue(){return function(e){var t=se.fetchFriends(),n=localStorage.getItem("token");e({type:P}),fetch(t,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(n)}}).then((function(t){return"401"==t.status&&e(ae()),t.json()})).then((function(t){console.log("Data",t),t.success?setTimeout((function(){var n;e((n=t.data.friendships,{type:T,friendships:n}))}),500):setTimeout((function(){var n;e((n=t.error,{type:F,error:n}))}),500)})).catch((function(e){return console.log("error",e)}))}}function Re(e){return function(t){var n=se.AddFriend(e),r=localStorage.getItem("token");t({type:U}),fetch(n,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(r)}}).then((function(e){return"401"==e.status&&t(ae()),e.json()})).then((function(e){console.log("Data",e),e.success?setTimeout((function(){var n;t((n=e.data.friendship,{type:L,friendship:n}))}),500):setTimeout((function(){var n;t((n=e.error,{type:w,error:n}))}),500)})).catch((function(e){return console.log("error",e)}))}}function Ae(){return{type:B}}function De(e){return function(t){var n=se.RemoveFriend(e),r=localStorage.getItem("token");t({type:D}),fetch(n,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(r)}}).then((function(e){return"401"==e.status&&t(ae()),e.json()})).then((function(e){console.log("Data",e),e.success?setTimeout((function(){t(function(e){return{type:A,id:e}}(e.removed_id))}),500):setTimeout((function(){var n;t((n=e.error,{type:R,error:n}))}),500)})).catch((function(e){return console.log("error",e)}))}}var Be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.friend,t=this.props.fid,n=se.SERVER_URL()+e.avatar;return Object(be.jsxs)("div",{className:"friend",children:[Object(be.jsx)("div",{className:"friend-icon",children:Object(be.jsx)(je.b,{to:"/user/".concat(e._id),children:Object(be.jsx)("img",{src:e.avatar?n:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png"})})}),Object(be.jsx)("div",{className:"friend-name",children:Object(be.jsx)("div",{children:e.name})}),Object(be.jsx)(je.b,{to:"/chat/".concat(t),children:Object(be.jsx)("button",{className:"chat-btn",children:"Chat"})}),Object(be.jsx)("div",{className:e.online?"online":"offline"})]})}}]),n}(r.Component),ze=Be,Ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(Ae())}},{key:"componentDidMount",value:function(){this.props.dispatch(Ue())}},{key:"render",value:function(){var e,t=this.props.friends,n=t.friendships,r=t.inProgress,s=t.error,o=this.props.auth.user;return r?Object(be.jsx)(ke.WifiLoader,(e={className:"loader",background:"transparent",backColor:"rgb(66, 110, 240)",desktopSize:"90px",mobileSize:"90px",text:"Fetching Friends..."},Object(Le.a)(e,"backColor","rgb(66, 110, 240)"),Object(Le.a)(e,"frontColor","#4645F6"),e)):s?Object(be.jsx)("h1",{children:s}):Object(be.jsxs)("div",{className:"friends-container",children:[Object(be.jsx)("div",{className:"friends-heading",children:"Friends"}),n.map((function(e){var t=e.from_user;return t._id==o._id&&(t=e.to_user),Object(be.jsx)(ze,{friend:t,fid:e._id})}))]})}}]),n}(r.Component);var Me=Object(h.b)((function(e){return{auth:e.auth,friends:e.friends}}))(Ge),Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handlenextclick=function(){var t=e.props.posts.next;e.props.dispatch(ue(t.page))},e.handleprevclick=function(){var t=e.props.posts.prev;e.props.dispatch(ue(t.page))},e}return Object(i.a)(n,[{key:"render",value:function(){this.props.posts.posts;var e=this.props.posts,t=e.next,n=e.prev;return Object(be.jsxs)("div",{className:"Footer-container",children:[Object(be.jsxs)("div",{className:"footer-btns",children:[Object(be.jsx)("button",{onClick:this.handleprevclick,className:n?"fbtn":"fbtn hidebtn",children:"Prev"}),Object(be.jsx)("button",{onClick:this.handlenextclick,className:t?"fbtn":"fbtn hidebtn",children:"Next"})]}),Object(be.jsx)("div",{className:"footer",children:"\xa9 2021 Apoorv Jain"})]})}}]),n}(r.Component);var He=Object(h.b)((function(e){return{posts:e.posts}}))(Ve),We=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.auth.isLoggedIn;return Object(be.jsxs)("div",{className:"home",children:[Object(be.jsx)(Ee,{}),e&&Object(be.jsx)(Me,{})]})}}]),n}(r.Component);var Je=Object(h.b)((function(e){return{auth:e.auth}}))(We);var qe=function(e){return Object(be.jsx)("div",{children:Object(be.jsx)("h1",{children:"404: Page not found"})})},Ke=n(44),Xe=(n(79),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleEmailInput=function(e){var t=e.target.value;r.setState({email:t})},r.handlePasswordInput=function(e){var t=e.target.value;r.setState({password:t})},r.handleSubmit=function(e){e.preventDefault(),console.log(r.state),r.props.dispatch(ce(r.state,r.props.socket))},r.SubmitError=function(e){Ke.b.error(e)},r.state={email:"",password:""},r}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(ie())}},{key:"componentDidUpdate",value:function(){var e=this.props.auth,t=e.error;e.isLoggedIn;t&&this.SubmitError(t)}},{key:"render",value:function(){var e=this.props.auth,t=(e.error,e.inProgress),n=e.user,r=e.isLoggedIn,s=(this.props.location.state||{from:{pathname:"/"}}).from;return r?Object(be.jsx)(pe.a,{to:s}):Object(be.jsxs)("div",{className:"login-container",children:[Object(be.jsx)("div",{className:"login-heading",children:"Login"}),Object(be.jsx)(Ke.a,{}),r&&Object(be.jsx)("div",{className:"success-dialog",children:"Successfully signed in as ".concat(n.name)}),Object(be.jsxs)("form",{className:"login-form",children:[Object(be.jsx)("input",{type:"email",required:!0,placeholder:"Enter your email",onChange:this.handleEmailInput}),Object(be.jsx)("input",{type:"password",required:!0,placeholder:"Enter your password",onChange:this.handlePasswordInput}),t?Object(be.jsx)("button",{type:"submit",className:"submit-btn",onClick:this.handleSubmit,disabled:t,children:"Logging In"}):Object(be.jsx)("button",{type:"submit",className:"submit-btn",onClick:this.handleSubmit,children:"Log In"})]})]})}}]),n}(r.Component));var Ye=Object(h.b)((function(e){return{auth:e.auth,socket:e.socket}}))(Xe),Qe=se.signup();function Ze(e){return console.log(e),function(t){t({type:v}),fetch(Qe,{method:"POST",body:JSON.stringify({email:e.email,password:e.password,confirmpassword:e.confirmpassword,name:e.name}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success?setTimeout((function(){var n;localStorage.setItem("token",e.data.token),t((n=e.data.user,{type:O,user:n}))}),1e3):setTimeout((function(){var n;t((n=e.error,{type:g,error:n}))}),1e3)})).catch((function(e){return console.log("error",e)}))}}var $e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleEmailInput=function(e){var t=e.target.value;r.setState({email:t})},r.handleConfirmPasswordInput=function(e){var t=e.target.value;r.setState({confirmpassword:t})},r.handleNameInput=function(e){var t=e.target.value;r.setState({name:t})},r.handlePasswordInput=function(e){var t=e.target.value;r.setState({password:t})},r.handleSubmit=function(e){e.preventDefault(),r.props.dispatch(Ze(r.state))},r.state={email:"",password:"",confirmpassword:"",name:""},r}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(ie())}},{key:"render",value:function(){var e=this.props.auth,t=e.error,n=e.inProgress,r=e.user,s=e.isLoggedIn;return s?Object(be.jsx)(pe.a,{to:"/"}):Object(be.jsxs)("div",{className:"login-container",children:[Object(be.jsx)("div",{className:"login-heading",children:"SignUp"}),t&&Object(be.jsx)("div",{className:"alert-dialog",children:t}),s&&Object(be.jsx)("div",{className:"success-dialog",children:"Successfully signed in as ".concat(r.user.name)}),Object(be.jsxs)("form",{className:"login-form",children:[Object(be.jsx)("input",{type:"text",required:!0,placeholder:"Enter your name",onChange:this.handleNameInput}),Object(be.jsx)("input",{type:"email",required:!0,placeholder:"Enter your email",onChange:this.handleEmailInput}),Object(be.jsx)("input",{type:"password",required:!0,placeholder:"Enter your password",onChange:this.handlePasswordInput}),Object(be.jsx)("input",{type:"password",required:!0,placeholder:"Enter password again",onChange:this.handleConfirmPasswordInput}),n?Object(be.jsx)("button",{type:"submit",className:"submit-btn",onClick:this.handleSubmit,disabled:n,children:"Signing Up"}):Object(be.jsx)("button",{type:"submit",className:"submit-btn",onClick:this.handleSubmit,children:"Sign Up"})]})]})}}]),n}(r.Component);var et=Object(h.b)((function(e){return{auth:e.auth}}))($e),tt=n(51);se.UploadPic();function nt(e){return{type:k,user:e}}function rt(e){return{type:y,error:e}}var st=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleUpload=function(){var e=r.props.auth.user;r.state.selectedFile&&r.props.dispatch(function(e,t){var n=se.UploadPic();return console.log(n),console.log(t),console.log(e),function(e){var r=localStorage.getItem("token"),s=new FormData;s.append("avatar",t),fetch(n,{method:"POST",body:s,headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){return"401"==t.status&&e(ae()),t.json()})).then((function(t){console.log(t),t.success?(localStorage.setItem("token",t.data.token),setTimeout((function(){e(nt(t.data.user))}),500)):setTimeout((function(){e(rt(t.error))}),500)})).catch((function(e){return console.log("error",e)}))}}(e._id,r.state.selectedFile))},r.handleFile=function(e){console.log(e.target.files[0]),r.setState({selectedFile:e.target.files[0]})},r.handleChange=function(e,t){r.setState(Object(Le.a)({},t,e))},r.handleEdit=function(){r.setState({editmode:!0})},r.handleBack=function(){r.setState({editmode:!1})},r.fun=function(){0==r.props.auth.error&&r.setState({editmode:!1})},r.handleSave=function(){var e=r.state,t=e.name,n=e.password,s=e.confirmpassword;if(0==t.length||0==n.length||s!=n)r.props.dispatch(rt("Invalid Input"));else{var o=r.props.auth.user._id;console.log("Success",o),r.props.dispatch(function(e,t,n,r){console.log(r);var s=se.editProfile();return function(o){var c=localStorage.getItem("token");fetch(s,{method:"POST",body:JSON.stringify({name:e,password:t,confirmpassword:n,id:""+r}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(c)}}).then((function(e){return"401"==e.status&&o(ae()),e.json()})).then((function(e){console.log(e),e.success?(localStorage.setItem("token",e.data.token),setTimeout((function(){o(nt(e.data.user))}),500)):setTimeout((function(){o(rt(e.error))}),500)})).catch((function(e){return console.log("error",e)}))}}(t,n,s,o)),setTimeout(r.fun,1e3)}},r.state={editmode:!1,name:e.auth.user.name,password:"",confirmpassword:"",selectedFile:null},r}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(ie())}},{key:"render",value:function(){var e=this,t=this.state.editmode,n=this.props.auth,r=n.user,s=n.error,o=(n.profile_changed,se.SERVER_URL()+r.avatar);return Object(be.jsxs)("div",{className:"profile-container",children:[Object(be.jsx)("div",{className:"user-icon",children:Object(be.jsx)("img",{src:void 0!==r.avatar?o:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png"})}),Object(be.jsxs)("div",{className:"setting-container",children:[s&&Object(be.jsx)("div",{className:"alert-dialog",children:s}),0==s&&1==t&&Object(be.jsx)("div",{className:"success-dialog",children:"Successfully Updated"}),Object(be.jsxs)("div",{className:"show-field2",children:[Object(be.jsx)("input",{className:"show-field-input2",type:"file",onChange:this.handleFile}),Object(be.jsx)("button",{className:"upload-btn",onClick:this.handleUpload,children:"Upload"})]}),Object(be.jsxs)("div",{className:"show-field",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Email"}),Object(be.jsx)("div",{className:"show-field-input",children:r.email})]}),0==t&&Object(be.jsxs)("div",{className:"show-field",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Name"}),Object(be.jsx)("div",{className:"show-field-input",children:r.name})]}),t&&Object(be.jsxs)("div",{className:"show-input",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Name"}),Object(be.jsx)("input",{value:this.state.name,onChange:function(t){e.handleChange(t.target.value,"name")}})]}),t&&Object(be.jsxs)("div",{className:"show-input",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"New Password"}),Object(be.jsx)("input",{onChange:function(t){e.handleChange(t.target.value,"password")}})]}),t&&Object(be.jsxs)("div",{className:"show-input",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Confirm Password"}),Object(be.jsx)("input",{onChange:function(t){e.handleChange(t.target.value,"confirmpassword")}})]}),Object(be.jsxs)("div",{className:"Button-container",children:[0==t&&Object(be.jsx)("button",{className:"setting-btn",onClick:this.handleEdit,children:"Edit Profile"}),t&&Object(be.jsx)("button",{className:"setting-btn",onClick:this.handleSave,children:"Save Profile"}),t&&Object(be.jsx)("button",{className:"setting-btn",onClick:this.handleBack,children:"Go Back"})]})]})]})}}]),n}(r.Component);var ot=Object(h.b)((function(e){return{auth:e.auth}}))(st);function ct(e){return function(t){var n=se.fetchProfile(e);t({type:_});var r=localStorage.getItem("token");fetch(n,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(r)}}).then((function(e){return"401"==e.status&&t(ae()),e.json()})).then((function(e){console.log(e),e.success?setTimeout((function(){var n;t((n=e.data.user,{type:E,user:n}))}),500):setTimeout((function(){var n;t((n=e.error,{type:C,error:n}))}),500)})).catch((function(e){return console.log("error",e)}))}}var at=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleAddfriend=function(){var e=r.props.match.params.userId;r.props.dispatch(Re(e))},r.handleRemoveFriend=function(){var e=r.props.match.params.userId;r.props.dispatch(De(e))},r.checkIsUserFriend=function(){var e=r.props.match.params.userId,t=r.props.auth.user,n=r.props.friends.friendships,s=[];return n.map((function(e){var n=e.from_user._id;n==t._id&&(n=e.to_user._id),s.push(n)})),-1!==s.indexOf(e)},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.match.params.userId&&this.props.dispatch(ct(this.props.match.params.userId))}},{key:"componentDidUpdate",value:function(e){var t=e.match.params,n=this.props.match.params;n&&t&&n.userId!==t.userId&&this.props.dispatch(ct(n.userId))}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Ae())}},{key:"render",value:function(){var e=this.checkIsUserFriend(),t=this.props.profile.user,n=this.props.auth.user,r=this.props.profile,s=r.error,o=r.inProgress,c=se.SERVER_URL()+t.avatar;return n.email==t.email?Object(be.jsx)(pe.a,{to:"/settings"}):o?Object(be.jsx)("div",{className:"ploader",children:Object(be.jsx)(ke.BoxesLoader,{boxColor:"#6366F1",style:{marginBottom:"20px"},desktopSize:"128px",mobileSize:"80px"})}):s?Object(be.jsx)("h1",{children:s}):Object(be.jsxs)("div",{className:"profile-container",children:[Object(be.jsx)("div",{className:"user-icon",children:Object(be.jsx)("img",{src:void 0!==t.avatar?c:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png"})}),Object(be.jsxs)("div",{className:"setting-container",children:[this.props.friends.error&&Object(be.jsx)("div",{className:"alert-dialog",children:this.props.friends.error}),0==this.props.friends.error&&Object(be.jsxs)("div",{className:"success-dialog",children:["Successfully ",e?"added":"removed"," friend"]}),Object(be.jsxs)("div",{className:"show-field",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Email"}),Object(be.jsx)("div",{className:"show-field-input",children:t.email})]}),Object(be.jsxs)("div",{className:"show-field",children:[Object(be.jsx)("div",{className:"show-field-heading",children:"Name"}),Object(be.jsx)("div",{className:"show-field-input",children:t.name})]}),Object(be.jsx)("div",{className:"Button-container",children:0==e?Object(be.jsx)("button",{className:"add-friend-btn",disabled:this.props.friends.inProgress,onClick:this.handleAddfriend,children:this.props.friends.inProgress?"Adding Friend":"Add Friend"}):Object(be.jsx)("button",{className:"add-friend-btn",disabled:this.props.friends.inProgress,onClick:this.handleRemoveFriend,children:this.props.friends.inProgress?"Removing Friend":"Remove Friend"})})]})]})}}]),n}(r.Component);var it=Object(h.b)((function(e){return{auth:e.auth,profile:e.profile,friends:e.friends}}))(at),ut=n(43),lt=n.n(ut),dt=n(52),ht=n(17),pt=function(e){return function(t){var n=se.get_conversation(e),r=localStorage.getItem("token");t({type:X}),fetch(n,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(r)}}).then((function(e){return"401"==e.status&&t(ae()),e.json()})).then((function(e){var n,r;console.log("Data",e),e.success?t((r=e.data.conversation,{type:K,conversation:r})):t((n=e.error,{type:Y,error:n}))})).catch((function(e){return console.log("error",e)}))}};var jt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.msg,t=this.props.userId;return Object(be.jsx)("div",{className:t==e.user._id?"self-msg-outer":"other-msg-outer",children:Object(be.jsxs)("div",{className:t==e.user._id?"self":"other",children:[Object(be.jsx)("div",{className:"msgsender",children:e.user.name}),Object(be.jsx)("div",{className:"msg",children:e.content})]})})}}]),n}(r.Component),mt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleSend=Object(dt.a)(lt.a.mark((function e(){var t,n,s;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.match.params.fid,console.log("CONVERSATION",t),0!==r.state.message.length&&((n={}).content=r.state.message,s=r.props.auth.user,n.user={name:s.name,_id:s._id,email:s.email},r.socket.emit("send-message",n,t),r.msgInput.current.value="",r.setState({message:""}));case 3:case"end":return e.stop()}}),e)}))),r.handleChange=function(e){r.setState({message:e.target.value})},r.setupconnections=function(){var e=Object(ht.a)(r),t=r.socket,n=e.props.match.params.fid;t.emit("join_room",n),t.on("receive-message",(function(t){console.log("RECEIVED_DATA",t),e.props.dispatch(function(e){return{type:Z,message:e}}(t))}))},r.state={message:""},r.socket=e.socket,r.msgInput=s.a.createRef(),r.msgContainer=s.a.createRef(),r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(){this.msgContainer.current&&this.msgContainer.current.scrollIntoView({behavior:"smooth"})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.fid;this.props.dispatch(pt(e)),console.log("CHAT Mounted"),this.setupconnections()}},{key:"componentWillUnmount",value:function(){console.log("chat Unmounted"),this.socket.off(),this.props.dispatch({type:Q})}},{key:"render",value:function(){var e,t=this.props.auth.user;if(!t)return Object(be.jsx)(pe.a,{to:"/login"});if(this.props.conversation.inProgress)return Object(be.jsx)("div",{className:"loader-box",children:Object(be.jsx)(ke.XlviLoader,(e={boxColors:["#EF4444","#F59E0B","#6366F1"],desktopSize:"128px",mobileSize:"100px",className:"my-loader"},Object(Le.a)(e,"desktopSize","90px"),Object(Le.a)(e,"mobileSize","90px"),Object(Le.a)(e,"text","Fetching Conversation..."),Object(Le.a)(e,"backColor","rgb(66, 110, 240)"),Object(Le.a)(e,"frontColor","#4645F6"),e))});var n=this.props.conversation.conversation.messages;return n||(n=[]),Object(be.jsxs)("div",{className:"mainright",children:[Object(be.jsxs)("div",{className:"msg-container",children:[n.map((function(e,n){return Object(be.jsx)(jt,{Key:n,msg:e,userId:t._id})})),0==n.length&&Object(be.jsxs)("div",{className:"welcome-heading",children:[Object(be.jsx)("h1",{children:"Welcome to the chat ".concat(t.name,"!")}),Object(be.jsx)("div",{children:"Say Hello to your friend"}),Object(be.jsx)("img",{src:"https://c.tenor.com/4BkYeeOwEUgAAAAC/waving-wave.gif",className:"wave-img"})]}),Object(be.jsx)("div",{ref:this.msgContainer})]}),Object(be.jsxs)("div",{className:"msg-input-container",children:[Object(be.jsx)("input",{className:"msginput",onChange:this.handleChange,ref:this.msgInput}),Object(be.jsx)("button",{onClick:this.handleSend,className:"sendbtn",children:"Send"})]})]})}}]),n}(r.Component);var ft=Object(h.b)((function(e){return{auth:e.auth,conversation:e.conversation,socket:e.socket}}))(mt);var bt=function(e){var t=e.isLoggedIn,n=e.path,r=e.component;return Object(be.jsx)(pe.b,{path:n,render:function(e){return console.log("Props",e),1==t?Object(be.jsx)(r,Object(d.a)({},e)):Object(be.jsx)(pe.a,{to:{pathname:"/login",state:{from:e.location}}})}})},vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("APP MOUNTED");var t=localStorage.getItem("token"),n=he.a.connect("localhost:8000");this.props.dispatch({type:$,socket:n});this.props.auth.isLoggedIn;if(n.on("user-onlined",(function(){e.props.auth.isLoggedIn&&e.props.dispatch(Ue()),console.log("USER_ONLINED")})),n.on("user-offlined",(function(){e.props.auth.isLoggedIn&&e.props.dispatch(Ue()),console.log("USER_OFFLINED")})),t){var r=Object(tt.a)(t);this.props.dispatch(function(e,t){return t.emit("make-user-online",e),{type:x,user:e}}(r,n))}}},{key:"componentWillUnmount",value:function(){this.props.socket.disconnect(),this.props.socket.off()}},{key:"render",value:function(){var e=this.props,t=(e.posts,e.auth);return Object(be.jsx)(je.a,{children:Object(be.jsxs)("div",{children:[Object(be.jsx)(we,{}),Object(be.jsxs)(pe.d,{children:[Object(be.jsx)(pe.b,{exact:!0,path:"/",render:function(e){return Object(be.jsx)(Je,Object(d.a)({},e))}}),Object(be.jsx)(pe.b,{path:"/login",exact:!0,component:Ye}),Object(be.jsx)(pe.b,{path:"/Register",exact:!0,component:et}),Object(be.jsx)(bt,{path:"/settings",exact:!0,component:ot,isLoggedIn:t.isLoggedIn}),Object(be.jsx)(bt,{path:"/user/:userId",exact:!0,component:it,isLoggedIn:t.isLoggedIn}),Object(be.jsx)(bt,{path:"/chat/:fid",exact:!0,component:ft,isLoggedIn:t.isLoggedIn}),Object(be.jsx)(pe.b,{component:qe})]}),Object(be.jsx)(He,{})]})})}}]),n}(r.Component);var Ot=Object(h.b)((function(e){return{posts:e.posts,auth:e.auth,socket:e.socket}}))(vt),gt=n(33),xt=n(53),Nt={user:{},error:null,isLoggedIn:!1,inProgress:!1,profile:""};var St={inProgress:!1,user:{},error:null};var kt={friendships:[],inProgress:!1,error:null};var yt={results:[]};var Et={conversation:{},inProgress:!1,error:null};var Ct=Object(gt.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{posts:t.posts,next:t.next,prev:t.prev,error:null});case z:return{posts:[t.post].concat(Object(p.a)(e.posts)),error:!1};case G:return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case M:var n=e.posts.map((function(e){return e._id==t.post_id?Object(d.a)(Object(d.a)({},e),{},{comment:[t.comment].concat(Object(p.a)(e.comment))}):e}));return Object(d.a)(Object(d.a)({},e),{},{posts:n,error:null});case V:return{error:t.error};case H:if("Post"==t.likeabletype){var r=e.posts.map((function(e){if(e._id==t.id){if(t.deleted){var n=e.likes.filter((function(e){return e._id!=t.like._id}));return Object(d.a)(Object(d.a)({},e),{},{likes:n})}var r=e.likes;return r.push(t.like),Object(d.a)(Object(d.a)({},e),{},{likes:r})}return e}));return Object(d.a)(Object(d.a)({},e),{},{posts:r})}var s=e.posts.map((function(e){var n=e.comment.map((function(e){if(e._id==t.id){if(t.deleted){var n=e.likes.filter((function(e){return e._id!=t.like._id}));return Object(d.a)(Object(d.a)({},e),{},{likes:n})}var r=e.likes;return r.push(t.like),Object(d.a)(Object(d.a)({},e),{},{likes:r})}return e}));return Object(d.a)(Object(d.a)({},e),{},{comment:n})}));return Object(d.a)(Object(d.a)({},e),{},{posts:s});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action-----\x3e",t),t.type){case m:case v:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!0});case f:case O:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,inProgress:!1,error:null,user:t.user});case b:case g:case y:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!1,error:t.error});case x:return Object(d.a)(Object(d.a)({},e),{},{error:null,user:t.user,isLoggedIn:!0});case N:return{user:{},error:null,isLoggedIn:!1,inProgress:!1};case S:return Object(d.a)(Object(d.a)({},e),{},{error:null,editmode:!1});case k:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,inProgress:!1,error:!1,user:t.user,editmode:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!0,error:null});case E:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!1,user:t.user,error:null});case C:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!1,error:t.error});case I:return{inProgress:!1,user:{},error:null};default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{error:t.error,inProgress:!1});case P:return Object(d.a)(Object(d.a)({},e),{},{error:null,inProgress:!0});case T:return Object(d.a)(Object(d.a)({},e),{},{error:null,inProgress:!1,friendships:t.friendships});case L:return Object(d.a)(Object(d.a)({},e),{},{error:!1,inProgress:!1,friendships:[].concat(Object(p.a)(e.friendships),[t.friendship])});case U:case D:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!0,error:null});case w:case R:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!1,error:t.error});case B:return Object(d.a)(Object(d.a)({},e),{},{inProgress:!1,error:null});case A:return Object(d.a)(Object(d.a)({},e),{},{error:!1,inProgress:!1,friendships:e.friendships.filter((function(e){return e._id!==t.id}))});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(d.a)(Object(d.a)({},e),{},{results:t.results});case q:return{results:[]};default:return e}},conversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(d.a)(Object(d.a)({},e),{},{error:t.error,inProgress:!1});case X:return Object(d.a)(Object(d.a)({},e),{},{error:null,inProgress:!0});case K:return Object(d.a)(Object(d.a)({},e),{},{error:null,inProgress:!1,conversation:t.conversation});case Q:return Et;case Z:var n=e.conversation;return n.messages.push(t.message),Object(d.a)(Object(d.a)({},e),{},{conversation:n});default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return t.socket;case ee:return null;default:return e}}}),_t=n(54),It=n.n(_t);var Tt=Object(gt.c)(Ct,Object(gt.a)(It.a,xt.a));console.log(Tt.getState()),c.a.render(Object(be.jsx)(h.a,{store:Tt,children:Object(be.jsx)(s.a.StrictMode,{children:Object(be.jsx)(Ot,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.0d5f1768.chunk.js.map